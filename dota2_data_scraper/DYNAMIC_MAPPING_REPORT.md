# –û–¢–ß–ï–¢ –û –í–ù–ï–î–†–ï–ù–ò–ò –î–ò–ù–ê–ú–ò–ß–ï–°–ö–û–ì–û –ú–ê–ü–ü–ò–ù–ì–ê –ì–ï–†–û–ï–í

## ‚úÖ –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞:** 09.08.2025  
**–ò—Å—Ç–æ—á–Ω–∏–∫ API:** [dota2protracker.com/api/heroes/list](https://dota2protracker.com/api/heroes/list)  
**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥ –≥–µ—Ä–æ–µ–≤ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–∑ API

## üöÄ –†–ï–í–û–õ–Æ–¶–ò–û–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### **‚ùå –ë—ã–ª–æ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥):**

- üîß **–†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –≥–µ—Ä–æ–µ
- üìù **140+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–ª–æ–≤–∞—Ä–µ–º
- ‚ö†Ô∏è **–†–∏—Å–∫ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏—è** –¥–∞–Ω–Ω—ã—Ö
- üêõ **–û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö**

### **‚úÖ –°—Ç–∞–ª–æ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥):**

- ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏–∑ API
- üåê **–í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ** –¥–∞–Ω–Ω—ã–µ
- üõ°Ô∏è **–†–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥** –Ω–∞ —Å–ª—É—á–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- üìä **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ—Ü–µ—Å—Å–∞

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `config_processor.py`:**

#### **1. `_load_heroes_from_api()`**

```python
def _load_heroes_from_api(self) -> Dict[str, int]:
    """–ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –≥–µ—Ä–æ–µ–≤ –∏–∑ API"""
    response = requests.get('https://dota2protracker.com/api/heroes/list', timeout=10)
    api_data = response.json()
    hero_mapping = {hero['displayName']: hero['hero_id'] for hero in api_data}
    return hero_mapping
```

#### **2. `_get_fallback_mapping()`**

```python
def _get_fallback_mapping(self) -> Dict[str, int]:
    """–†–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –Ω–∞ —Å–ª—É—á–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API"""
    # –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥–µ—Ä–æ–µ–≤ –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤
```

#### **3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `_map_hero_names_to_ids()`**

```python
def _map_hero_names_to_ids(self, hero_names: pd.Series) -> pd.Series:
    """–ú–∞–ø–ø–∏–Ω–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API + –≤–∞–ª–∏–¥–∞—Ü–∏—è"""
    hero_mapping = self._load_heroes_from_api()  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏!
    mapped_ids = hero_names.map(hero_mapping)
    # + –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### **API Connectivity:**

- ‚úÖ **126 –≥–µ—Ä–æ–µ–≤** –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ API
- ‚úÖ **–í—Å–µ –Ω–æ–≤—ã–µ –≥–µ—Ä–æ–∏** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
    - Ringmaster: 131 ‚úÖ
    - Dawnbreaker: 135 ‚úÖ
    - Marci: 136 ‚úÖ
    - Primal Beast: 137 ‚úÖ
    - Muerta: 138 ‚úÖ
    - Kez: 145 ‚úÖ

### **System Validation:**

- ‚úÖ **593/593 –∑–∞–ø–∏—Å–µ–π** —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ hero_id
- ‚úÖ **126 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥–µ—Ä–æ–µ–≤** = 126 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID
- ‚úÖ **Min/Max ID:** 1-145 (–ø–æ–ª–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)
- ‚úÖ **–í—Å–µ 5 —Ç–µ—Å—Ç–æ–≤** —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–π–¥–µ–Ω—ã

## üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**

1. **Timeout –∑–∞—â–∏—Ç–∞** (10 —Å–µ–∫—É–Ω–¥)
2. **HTTP –æ—à–∏–±–∫–∏** ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥
3. **JSON –ø–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–∫–∏** ‚Üí —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥
4. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

### **Fallback —Å–∏—Å—Ç–µ–º–∞:**

- üîÑ –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥
- üìù –°–æ–¥–µ—Ä–∂–∏—Ç **–≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥–µ—Ä–æ–µ–≤**
- ‚ö†Ô∏è –õ–æ–≥–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ä–µ–∂–∏–º

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

### **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**

- üÜï **–ù–æ–≤—ã–µ –≥–µ—Ä–æ–∏** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- üîÑ **–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–¥ –≤—Ä—É—á–Ω—É—é
- üìà **–í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ** hero_id –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**

- üåê **API-first** –ø–æ–¥—Ö–æ–¥ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –ø–ª–∞–Ω–æ–º
- üõ°Ô∏è **Fail-safe** —Å–∏—Å—Ç–µ–º–∞ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –º–∞–ø–ø–∏–Ω–≥–æ–º
- üìä **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìà –í–õ–ò–Ø–ù–ò–ï –ù–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

- **API –∑–∞–ø—Ä–æ—Å:** ~300ms (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
- **–û–±—â–µ–µ –≤—Ä–µ–º—è:** –±–µ–∑ –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**

- **–£–≤–µ–ª–∏—á–∏–ª–∞—Å—å** –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º
- **–£–º–µ–Ω—å—à–∏–ª—Å—è —Ä–∏—Å–∫** –æ—à–∏–±–æ–∫ –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö ID
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º

## üîÆ –ë–£–î–£–©–ò–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API** –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –¥–∏—Å–∫
2. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –≥–µ—Ä–æ–µ–≤
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è** hero_id —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –Ω–æ–≤—ã—Ö –≥–µ—Ä–æ—è—Ö

## üß™ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

### **–¢–µ—Å—Ç API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

```python
import requests
response = requests.get('https://dota2protracker.com/api/heroes/list')
print(f"–ì–µ—Ä–æ–µ–≤ –≤ API: {len(response.json())}")
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã:**

```bash
python main.py --config  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
python tests/test_scraper.py  # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## üèÜ –ò–¢–û–ì

**–†–ï–í–û–õ–Æ–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê:**

1. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥** –∏–∑ API –≤–Ω–µ–¥—Ä–µ–Ω
2. ‚úÖ **126 –≥–µ—Ä–æ–µ–≤** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
3. ‚úÖ **–†–µ–∑–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
4. ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã** –±–µ–∑ –æ—à–∏–±–æ–∫
5. ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** –∏ –±—É–¥—É—â–∏–º –≥–µ—Ä–æ—è–º

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ª—é–±—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º Dota 2!** üéÆ‚ú®

---

_–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –º–∞–ø–ø–∏–Ω–≥–æ–º - —ç—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã!_ üöÄ
